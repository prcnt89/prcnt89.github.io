<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover, orientation=landscape">
    <title>What a Goal!</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" sizes="180x180" href="graphics/apple-touch-icon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

<audio id="goalSound" preload="auto">
    <source src="sounds/goal.mp3" type="audio/mpeg">
    Sounddateien werden von diesem Browser nicht unterstützt.
</audio>

<audio id="winSound" preload="auto">
    <source src="sounds/win.wav" type="audio/mpeg">
    Sounddateien werden von diesem Browser nicht unterstützt.
</audio>

<audio id="halftimeSound" preload="auto">
    <source src="sounds/haltime.mp3" type="audio/mpeg">
    Sounddateien werden von diesem Browser nicht unterstützt.
</audio>

<style>
@font-face {
      font-family: 'DINCond Medium';
      src: url('fonts/DINCond-Medium Regular.otf') format('opentype');
      font-weight: normal;
      font-style: normal;
    }

    @font-face {
      font-family: 'DINCond Black';
      src: url('fonts/DINCond-Black Regular.otf') format('opentype');
      font-weight: bold;
      font-style: normal;
    }

strong {
      font-family: 'DINCond Black';
    }

#overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 9998;
 }

#menu {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: #fff;
    border: 1px solid #ccc;
    border-radius: 10px; 
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    padding: 20px;
    width: 150px;
    max-width: 150px;
    display: none;
    z-index: 9999;
}

#menu.active {
    display: block;
}

#menu ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

#menu ul li {
    cursor: pointer;
    padding: 10px 0;
    font-size: 18px;
    border-bottom: 1px solid #f0f0f0;
    transition: background-color 0.3s ease-in-out;
}

#menu ul li:hover {
    background-color: #f8f8f8;
}

#menu .close {
    position: absolute;
    top: 10px;
    right: 10px;
    font-size: 24px;
    cursor: pointer;
    color: #888;
    transition: color 0.3s ease-in-out;
}

#menu .close:hover {
    color: #333;
}

body {
    font-family: DINCond Medium;
    margin: 0;
    padding: 0;
    background-image: url("graphics/background.jpg");
    background-size: cover;
    background-repeat: no-repeat;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}

.players-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    overflow-x: hidden;
    gap: 20px;
}

.player-container {
    background-color: white;
    border-radius: 15px;
    padding: 20px;
    text-align: center;
    min-width: 300px;
    max-width: 300px;
    max-height: 298px;
    overflow-x: hidden;
    overflow-y: auto;
}

.player-name {
    font-size: 24px;
    margin-top: 10px;
    cursor: pointer;
}

.player-score {
    font-size: 90px;
    font-weight: bold;
}

.icons {
    font-size: 30px;
    margin-top: 10px;
    margin-bottom: 20px;
}

.circle-icon {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background-color: black;
    margin-right: -3px;
}

.fas.fa-minus-circle {
    margin-right: 3px;
}

.fas.fa-bars {
    color: white;
}

.yellow-rectangle {
    display: inline-block;
    width: 12px;
    height: 17px;
    background-color: #f3e03b;
    transform: rotate(5deg);
}

.yellow-rectangle-list {
    display: inline-block;
    width: 11px;
    height: 16px;
    background-color: #f3e03b;
    transform: rotate(5deg);
    margin-right: 5px;
}

.red-rectangle {
    display: inline-block;
    width: 12px;
    height: 17px;
    background-color: red;
    transform: rotate(5deg);
}

.red-rectangle-list {
    display: inline-block;
    width: 11px;
    height: 16px;
    background-color: red;
    transform: rotate(5deg);
    margin-right: 5px;
}

.entry {
    text-align: left;
    margin-top: 5px;
}

.player-container:nth-child(1) .player-name {
    color: #ba3f1e;
}

.player-container:nth-child(2) .player-name {
    color: #0e477c;
}

.player-container:nth-child(1) {
    border: 4px solid #ba3f1e;
}

.player-container:nth-child(2) {
    border: 4px solid #0e477c;
}

.modern-button {
    display: flex;
    align-items: center;
}

.button-style {
    background-color: #007BFF;
    color: white;
    border: none;
    border-radius: 8px;
    padding: 12px 24px;
    font-size: 16px;
    cursor: pointer;
}

.player-container {
    margin-right: 20px;
}

.modal {
    display: none;
    position: fixed;
    z-index: 9999;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
}

.modal-content {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: white;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
}

.close {
    position: absolute;
    top: 10px;
    right: 10px;
    font-size: 20px;
    cursor: pointer;
}

#player1ModalName {
    font-family: DINCond Medium;
    color: #ba3f1e;
}

.player-name,
    #player1ModalName {
    font-family: DINCond Medium;
    color: #ba3f1e;
}

.square-container {
    text-align: center;
}

.square {
    display: inline-block;
    width: 30px;
    height: 30px;
    background-color: transparent;
    border: 1px solid black;
    border-radius: 2px;
    margin: 3px;
}

.extra-time-entry {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-top: 5px;
    padding: 5px;
}

.extra-time-content {
    text-align: center;
    font-size: 14px;
    color: black;
}

.halftime-entry {
    display: flex;
    justify-content: center;
    align-items: center;
}

.finalscore-entry {
    display: flex;
    justify-content: center;
    align-items: center;
}

.score-animation {
    animation-name: scoreAnimation;
    animation-duration: 1s;
    animation-iteration-count: 7;
    animation-fill-mode: both;
}

@keyframes scoreAnimation {
    0%, 100% {
    transform: scale(1);
    }
    50% {
    transform: scale(1.5);
    }
}

.ht-modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    z-index: 1000;
    display: flex;
    justify-content: center;
    align-items: center;
}

.ht-modal-box {
    background-color: white;
    border-radius: 10px;
    padding: 20px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
    max-width: 80%;
    text-align: left;
}

.ht-modal-box p {
    margin: 0;
    font-size: 14px;
    line-height: 1.5;
}

.winner-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url('graphics/winner_background.jpg');
    background-size: cover;
    background-position: center;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    flex-direction: column;
    color: white;
    font-size: 34px;
    text-align: center;
}

/* Neue Regel für die Hintergrundüberlagerung */
.winner-overlay::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    z-index: -1;
}

.winner-content {
    position: relative;
    z-index: 1;
    text-align: center;
    color: white;
}

.winner-content img {
    max-width: 100%;
    height: auto;
}

/* Stil für den Button */
.winner-content button {
margin-top: 20px;
    background-color: #007bff;
    color: white;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    border-radius: 5px;
    font-family: 'DINCond Medium';
}

.winner-content button:hover {
    background-color: #0056b3;
}

/* Stil für den zusätzlichen Text */
.winner-content .additional-text {
    font-size: 24px;
  animation: pulse 2.5s infinite;
  margin-top: -20px;
}

/* Stil für den fett gedruckten Text */
.winner-content .bold-text {
    font-weight: bold;
  animation: pulse 2.5s infinite;
  margin-top: -40px;
}

/* Pulsierende Animation */
@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
  }
  #animation p {
    font-size: 24px;
    margin-bottom: 20px;
  }
  #animation strong {
    font-weight: bold;
    font-size: 34px;
  }
  #animation p:last-child {
    margin-top: -1px;
  }
</style>
</head>

<body>
<div id="overlay"></div>
    <div class="players-container" id="playersContainer">

    <!-- Spieler 1 -->
    <div class="player-container" id="player1Container">
    <div class="player-name" contenteditable onclick="selectPlayerName(this)" onfocus="selectAllText(this)">Spieler 1</div>
    <div class="player-score" id="player1Score">0</div>
    <div class="icons">
    <span class="fas fa-futbol" style="color: black; margin-right: -3px;" onclick="increaseScore('player1Score')"></span>
    <span class="circle-icon" style="position: relative; top: 1px;" onclick="addFoul('player1Score')">
    <span class="material-icons" style="color: white; position: relative; top: 1px">sports</span>
    </span>
    <span class="circle-icon" style="position: relative; top: -3px;" onclick="addYellowCard('player1Score')">
    <span class="yellow-rectangle" style="position: relative; top: 0px"></span>
    </span>
    <span class="circle-icon" style="position: relative; top: -3px;" onclick="addRedCard('player1Score')">
    <span class="red-rectangle" style="position: relative; top: 0px"></span>
    </span>
    <span class="circle-icon" style="position: relative; top: -2px;" onclick="addPenalty('player1Score')">
    <img src="graphics/elfmeter_white.svg" alt="" style="position: relative; top: 1px; width: 18px; height: 18px;">
    </span>
    <span class="fas fa-minus-circle" style="margin-left: 15px;" onclick="removeLastEntryAndDeductPoint('player1Score')"></span>
    </div>
    <!-- Listeneinträge für Spieler 1 -->
    </div>

    <!-- Spieler 2 -->
    <div class="player-container" id="player2Container">
    <div class="player-name" contenteditable onclick="selectPlayerName(this)" onfocus="selectAllText(this)">Spieler 2</div>
    <div class="player-score" id="player2Score">0</div>
    <div class="icons">
    <span class="fas fa-futbol" style="color: black; margin-right: -3px;" onclick="increaseScore('player2Score')"></span>
    <span class="circle-icon" style="position: relative; top: 1px;" onclick="addFoul('player2Score')">
    <span class="material-icons" style="color: white; position: relative; top: 1px">sports</span>
    </span>
    <span class="circle-icon" style="position: relative; top: -3px;" onclick="addYellowCard('player2Score')">
    <span class="yellow-rectangle" style="position: relative; top: 0px"></span>
    </span>
    <span class="circle-icon" style="position: relative; top: -3px;" onclick="addRedCard('player2Score')">
    <span class="red-rectangle" style="position: relative; top: 0px"></span>
    </span>
    <span class="circle-icon" style="position: relative; top: -2px;" onclick="addPenalty('player2Score')">
    <img src="graphics/elfmeter_white.svg" alt="" style="position: relative; top: 1px; width: 18px; height: 18px;">
    </span>
    <span class="fas fa-minus-circle" style="margin-left: 15px;" onclick="removeLastEntryAndDeductPoint('player2Score')"></span>
    </div>
    <!-- Listeneinträge für Spieler 2 -->
    </div>
    </div>
</div>

<!-- Moderner Button für Elfmeterschießen -->
<div class="modern-button">
    <span class="fas fa-bars circle-icon" style="margin-right: 8px; cursor: pointer;" onclick="toggleMenu()"></span>
</div>

<!-- Menü -->
<div id="menu" class="active" style="display: none;">
    <ul>
    <span class="close" onclick="closeMenu()">&times;</span>
    <li onclick="addExtraTime(); closeMenu();">Nachspielzeit</li>
    <li onclick="addHalftime(); closeMenu();">Halbzeit</li>
    <li style="margin-bottom: 15px;" onclick="addFinalScore(); closeMenu();">Spielende</li>
    <li onclick="startNewGame(); closeMenu();">Neues Spiel</li>
    </ul>
</div>

<!-- Das Modal -->
<div id="myModal" class="modal">
    <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <!-- Hier können die Inhalte des Modals platziert werden -->
    <h2>Elfmeterschießen</h2>
    <!-- Zeige den aktuellen Namen von Spieler 1 im Modal an -->
    <p>
    <span id="player1ModalName" class="player-name"></span>
    </p>
    <!-- Fünf Quadrate mit abgerundeten Ecken und dünnem schwarzen Rahmen für Spieler 1 -->
    <div class="square-container">
    <span class="square" onclick="showPenaltyResultModal(1)"></span>
    <span class="square" onclick="showPenaltyResultModal(1)"></span>
    <span class="square" onclick="showPenaltyResultModal(1)"></span>
    <span class="square" onclick="showPenaltyResultModal(1)"></span>
    <span class="square" onclick="showPenaltyResultModal(1)"></span>
    </div>
    <!-- Zeige den aktuellen Namen von Spieler 2 im Modal an -->
    <p>
    <span id="player2ModalName" class="player-name"></span>
    </p>
    <!-- Fünf Quadrate mit abgerundeten Ecken und dünnem schwarzen Rahmen für Spieler 2 -->
    <div class="square-container">
    <span class="square" onclick="showPenaltyResultModal(2)"></span>
    <span class="square" onclick="showPenaltyResultModal(2)"></span>
    <span class="square" onclick="showPenaltyResultModal(2)"></span>
    <span class="square" onclick="showPenaltyResultModal(2)"></span>
    <span class="square" onclick="showPenaltyResultModal(2)"></span>
    </div>
    </div>
</div>

<script>
let player1UnfilledSquares = 5;
let player1GreenSquares = 0;
let player2UnfilledSquares = 5;
let player2GreenSquares = 0;

// Funktion, um ein neues Spiel zu starten
function startNewGame() {
    var confirmed = confirm("Neues Spiel starten?");
    if (confirmed) {
    location.reload();
    }
}

// Funktion zum Ein- und Ausblenden des Menüs
function toggleMenu() {
    const menu = document.getElementById("menu");
    const overlay = document.getElementById("overlay");

    if (menu.style.display === "none") {
    menu.style.display = "block";
    overlay.style.display = "block";
    } else {
    menu.style.display = "none";
    overlay.style.display = "none";
    }
}

// Funktion zum Schließen des Menüs nach Auswahl eines Menüpunkts
function closeMenu() {
    const menu = document.getElementById("menu");
    const overlay = document.getElementById("overlay");
  
    menu.style.display = "none";
    overlay.style.display = "none";
}

// Funktion zum Öffnen des Menüs
    function openMenu() {
    const modal = document.getElementById("myModal");
    const player1ModalNameElement = document.getElementById("player1ModalName");
    player1ModalNameElement.textContent = player1Name;

    const player2ModalNameElement = document.getElementById("player2ModalName");
    const player2NameElement = document.querySelector(".player-container:nth-child(2) .player-name");
    player2ModalNameElement.textContent = player2NameElement.textContent;
    player2ModalNameElement.style.color = getComputedStyle(player2NameElement).color;

    // Update the menu items
    const menuItems = document.getElementById("menuItems");
    menuItems.innerHTML = `
    <p><span class="fas fa-futbol" style="color: black; font-size: 16px;"></span> Elfmeterschießen</p>
    <p><span class="fas fa-cog" style="color: black; font-size: 16px;"></span> Einstellungen</p>
    `;

    modal.style.display = "block";
}

// Globale Variable, um den aktuellen Namen von Spieler 1 zu speichern
let player1Name = "Spieler 1"; // Standardname

// Eine Funktion erstellen, um einen leeren Eintrag für den anderen Spieler hinzuzufügen
function addEmptyEntry(playerId) {
    const playerScoreElement = document.getElementById(playerId);
    const playerName = playerId === "player1Score" ? "Spieler 2" : "Spieler 1";

    const entryElement = document.createElement("div");
    entryElement.classList.add("entry");
    entryElement.innerHTML = `&nbsp;`;

    playerScoreElement.parentElement.appendChild(entryElement);
}

// Funktion, um die Torzahl eines Spielers zu erhöhen
function increaseScore(playerId) {
    const playerScoreElement = document.getElementById(playerId);
    let score = parseInt(playerScoreElement.textContent);

    // Eingabeaufforderung für Spielminute und Torschützen
    const minuteInput = prompt("Spielminute eingeben (2-stellige Zahl):");
    if (minuteInput && /^\d{2}$/.test(minuteInput)) {
    const scorerName = prompt("Torschützen eingeben (leer = 'Standardspieler'):");
    const playerName = scorerName || "Standardspieler";

    // Erstellen der neuen Einträge mit Ball-Symbol und Informationen
    const entryElement = document.createElement("div");
    entryElement.classList.add("entry");
    entryElement.innerHTML = `<span class="fas fa-futbol" style="color: black; font-size: 16px;"></span> ${minuteInput}' ${playerName}`;
    playerScoreElement.parentElement.appendChild(entryElement);

    // Torzahl des Spielers um 1 erhöhen
    playerScoreElement.textContent = score + 1;

    // Torsound abspielen
    playGoalSound();

    // Punkt-Animation hinzufügen
    playerScoreElement.classList.add("score-animation");

    // Nach 8 Sekunden die Punkt-Animation entfernen
    setTimeout(() => {
    playerScoreElement.classList.remove("score-animation");
    }, 8000);

    // Einen leeren Eintrag für den anderen Spieler hinzufügen
    const otherPlayerId = playerId === "player1Score" ? "player2Score" : "player1Score";
    addEmptyEntry(otherPlayerId);
    } else {
    alert("Ungültige Eingabe. Tor wird nicht gezählt.");
    }
}

// Funktion, um einen Listeneintrag zu löschen
function removeLastEntryAndDeductPoint(playerId) {
    const playerScoreElement = document.getElementById(playerId);
    const entryElements = playerScoreElement.parentElement.getElementsByClassName("entry");

    if (entryElements.length > 0) {
        const lastEntry = entryElements[entryElements.length - 1];
        const futbolIcon = lastEntry.querySelector(".fas.fa-futbol");
        const elfmeterIcon = lastEntry.querySelector("img[src='graphics/elfmeter_black.svg']");

        if (futbolIcon || elfmeterIcon) {
            // Remove 1 point if the futbol or elfmeter icon is present
            let score = parseInt(playerScoreElement.textContent);
            if (score > 0) {
                playerScoreElement.textContent = score - 1;
            }
        }

        // Prüfe, ob der andere Spieler an gleicher Position einen nicht-leeren Eintrag hat
        const otherPlayerId = playerId === "player1Score" ? "player2Score" : "player1Score";
        const otherPlayerScoreElement = document.getElementById(otherPlayerId);
        const otherEntryElements = otherPlayerScoreElement.parentElement.getElementsByClassName("entry");

        if (otherEntryElements.length > 0) {
            const lastOtherEntry = otherEntryElements[otherEntryElements.length - 1];
            if (lastOtherEntry.textContent.trim() !== "") {
                // Eintrag mit Text vorhanden, zeige einen Fehler an
                alert("Dieser Eintrag kann nicht gelöscht werden.");
                return; // Beende die Funktion ohne weiteren Aktionen
            }
        }

        // Den letzten Eintrag entfernen
        lastEntry.remove();

        // Entferne die leere Zeile des anderen Spielers
        if (otherEntryElements.length > 0) {
            const lastOtherEntry = otherEntryElements[otherEntryElements.length - 1];
            if (lastOtherEntry.textContent.trim() === "") {
                lastOtherEntry.remove();
            }
        }
    }
}

// Funktion, um ein Foul für einen Spieler hinzuzufügen
function addFoul(playerId) {
    const playerScoreElement = document.getElementById(playerId);

    // Eingabeaufforderung für Spielminute
    const minuteInput = prompt("Spielminute eingeben (2-stellige Zahl):");
    if (minuteInput && /^\d{2}$/.test(minuteInput)) {
    // Erstellen der neuen Einträge mit Foul und Informationen
    const entryElement = document.createElement("div");
    entryElement.classList.add("entry");
    entryElement.innerHTML = `<span class="material-icons" style="color: black; font-size: 21px; position: relative; top: 5px; left: -2px; margin-right: -5px; margin-top: -6px;">sports</span> ${minuteInput}' Foul`;
    playerScoreElement.parentElement.appendChild(entryElement);

    // Einen leeren Eintrag für den anderen Spieler hinzufügen
    const otherPlayerId = playerId === "player1Score" ? "player2Score" : "player1Score";
    addEmptyEntry(otherPlayerId);
    } else {
    alert("Ungültige Eingabe. Das Foul wird nicht hinzugefügt.");
    }
}

// Funktion, um eine gelbe Karte für einen Spieler hinzuzufügen
function addYellowCard(playerId) {
    const playerScoreElement = document.getElementById(playerId);

    // Eingabeaufforderung für Spielminute
    const minuteInput = prompt("Spielminute eingeben (2-stellige Zahl):");
    if (minuteInput && /^\d{2}$/.test(minuteInput)) {
    // Erstellen der neuen Einträge mit gelber Karte und Informationen
    const entryElement = document.createElement("div");
    entryElement.classList.add("entry");
    entryElement.innerHTML = `<span class="yellow-rectangle-list" style="position: relative; top: 1px; left: 2px; margin-top: -2px;"></span> ${minuteInput}' Gelbe Karte`;
    playerScoreElement.parentElement.appendChild(entryElement);

    // Einen leeren Eintrag für den anderen Spieler hinzufügen
    const otherPlayerId = playerId === "player1Score" ? "player2Score" : "player1Score";
    addEmptyEntry(otherPlayerId);
    } else {
    alert("Ungültige Eingabe. Die gelbe Karte wird nicht hinzugefügt.");
    }
}

// Funktion, um eine rote Karte für einen Spieler hinzuzufügen
function addRedCard(playerId) {
    const playerScoreElement = document.getElementById(playerId);

    // Eingabeaufforderung für Spielminute und Spielername
    const minuteInput = prompt("Spielminute eingeben (2-stellige Zahl):");
    if (minuteInput && /^\d{2}$/.test(minuteInput)) {
    const scorerName = prompt("Spielernamen eingeben (leer = 'Standardspieler'):");
    const playerName = scorerName || "Standardspieler";

    // Erstellen der neuen Einträge mit roter Karte und Informationen
    const entryElement = document.createElement("div");
    entryElement.classList.add("entry");
    entryElement.innerHTML = `<span class="red-rectangle-list" style="position: relative; top: 1px; left: 2px; margin-top: -2px;"></span> ${minuteInput}' ${playerName}`;
    playerScoreElement.parentElement.appendChild(entryElement);

    // Einen leeren Eintrag für den anderen Spieler hinzufügen
    const otherPlayerId = playerId === "player1Score" ? "player2Score" : "player1Score";
    addEmptyEntry(otherPlayerId);
    } else {
    alert("Ungültige Eingabe. Die rote Karte wird nicht hinzugefügt.");
    }
}

// Funktion, um einen Elfmeter für einen Spieler hinzuzufügen
function addPenalty(playerId) {
    const playerScoreElement = document.getElementById(playerId);

    // Ask the user if the penalty was converted
    const penaltyConverted = window.confirm("Elfmeter verwandelt?");

    if (penaltyConverted) {
    let score = parseInt(playerScoreElement.textContent);

    // Eingabeaufforderung für Spielminute und Torschützen
    const minuteInput = prompt("Spielminute eingeben (2-stellige Zahl):");
    if (minuteInput && /^\d{2}$/.test(minuteInput)) {

    // Erstellen der neuen Einträge mit Elfmeter-Icon und Informationen
    const entryElement = document.createElement("div");
    entryElement.classList.add("entry");
    entryElement.innerHTML = `<img src="graphics/elfmeter_black.svg" alt="" style="width: 16px; height: 16px; position: relative; top: 3px;"> ${minuteInput}' Elfmeter`;
    playerScoreElement.parentElement.appendChild(entryElement);

    // Torzahl des Spielers um 1 erhöhen
    playerScoreElement.textContent = score + 1;

    // Torsound abspielen
    playGoalSound();

    // Punkt-Animation hinzufügen
    playerScoreElement.classList.add("score-animation");

    // Nach 8 Sekunden die Punkt-Animation entfernen
    setTimeout(() => {
    playerScoreElement.classList.remove("score-animation");
    }, 8000);

    // Einen leeren Eintrag für den anderen Spieler hinzufügen
    const otherPlayerId = playerId === "player1Score" ? "player2Score" : "player1Score";
    addEmptyEntry(otherPlayerId);
    } else {
    alert("Ungültige Eingabe. Tor wird nicht gezählt.");
    }
    } else {
    // Eingabeaufforderung für Spielminute und Torschützen
    const minuteInput = prompt("Spielminute eingeben (2-stellige Zahl):");
    if (minuteInput && /^\d{2}$/.test(minuteInput)) {

    // Erstellen der neuen Einträge mit Elfmeter-Icon und Informationen
    const entryElement = document.createElement("div");
    entryElement.classList.add("entry");
    entryElement.innerHTML = `<img src="graphics/elfmeter_missed.svg" alt="" style="width: 16px; height: 16px; position: relative; top: 3px;"> ${minuteInput}' Elfmeter`;
    playerScoreElement.parentElement.appendChild(entryElement);

    // Einen leeren Eintrag für den anderen Spieler hinzufügen
    const otherPlayerId = playerId === "player1Score" ? "player2Score" : "player1Score";
    addEmptyEntry(otherPlayerId);
    } else {
    alert("Ungültige Eingabe. Tor wird nicht gezählt.");
    }
    }
}

// Event Listener hinzufügen, um die Zeichenanzahl bei der Eingabe zu überwachen
    const playerNameElements = document.querySelectorAll(".player-name[contenteditable]");
    playerNameElements.forEach((element) => {
    element.addEventListener("blur", handlePlayerNameInput);
    });

// Funktion, die aufgerufen wird, wenn sich die Eingabe eines Spielernamens ändert (Spieler 1)
    const playerNameElementPlayer1 = document.querySelector(".player-container:nth-child(1) .player-name[contenteditable]");
    playerNameElementPlayer1.addEventListener("blur", handlePlayerNameInput);

// Funktion, die aufgerufen wird, wenn sich die Eingabe eines Spielernamens ändert (Spieler 2)
    const playerNameElementPlayer2 = document.querySelector(".player-container:nth-child(2) .player-name[contenteditable]");
    playerNameElementPlayer2.addEventListener("blur", handlePlayerNameInput);

// Gemeinsame Funktion, die aufgerufen wird, wenn sich die Eingabe eines Spielernamens ändert
function handlePlayerNameInput(event) {
    const playerNameElement = event.target;
    let playerName = playerNameElement.textContent.trim();
    const maxNameLength = 20;

    // Setze den Standardnamen (Spieler 1 oder Spieler 2) falls kein Name eingegeben wurde oder leer ist
    if (playerName === "" || playerName === "Spieler 1" || playerName === "Spieler 2") {
    playerName = "Spieler " + (playerNameElement === playerNameElementPlayer1 ? "1" : "2");
    playerNameElement.textContent = playerName;
    } else if (playerName.length > maxNameLength) {
    // Begrenze den Spielernamen auf die maximale Länge
    playerNameElement.textContent = playerName.slice(0, maxNameLength);
}

// Positioniere den Cursor am Ende des Textes, um zu verhindern, dass Zeichen am Anfang hinzugefügt werden
    const range = document.createRange();
    const selection = window.getSelection();
    range.selectNodeContents(playerNameElement);
    range.collapse(false);
    selection.removeAllRanges();
    selection.addRange(range);

// Fokus vom "contenteditable"-Element entfernen, wenn der Benutzer außerhalb davon klickt
    playerNameElement.blur();

// Speichere den aktuellen Namen von Spieler 1 in der globalen Variable
    if (playerNameElement === playerNameElementPlayer1) {
    player1Name = playerName;
    }
    }

// Funktion, um den Spielername auszuwählen, wenn darauf geklickt wird
function selectPlayerName(element) {
    const range = document.createRange();
    range.selectNodeContents(element);
    const selection = window.getSelection();
    selection.removeAllRanges();
    selection.addRange(range);
}

// Inhalt des Eingabefelds markieren, wenn es den Fokus erhält.
function selectAllText(element) {
    const range = document.createRange();
    range.selectNodeContents(element);
    const selection = window.getSelection();
    selection.removeAllRanges();
    selection.addRange(range);
}

// Funktion, um das Modal zu öffnen
function openModal() {
    const modal = document.getElementById("myModal");
    const player1ModalNameElement = document.getElementById("player1ModalName");
    player1ModalNameElement.textContent = player1Name;

    const player2ModalNameElement = document.getElementById("player2ModalName");
    const player2NameElement = document.querySelector(".player-container:nth-child(2) .player-name");
    player2ModalNameElement.textContent = player2NameElement.textContent;
    player2ModalNameElement.style.color = getComputedStyle(player2NameElement).color;

    modal.style.display = "block";
}

// Funktion, um das Modal zu schließen
function closeModal() {
    const modal = document.getElementById("myModal");
    modal.style.display = "none";
}

// Funktion, die aufgerufen wird, wenn der "Elfmeterschießen"-Button geklickt wird
function startElfmeterschiessen() {
    openModal();
}

// Funktion, um das suddenDeath-Elfmeterschießen zu verarbeiten
function suddenDeath() {
    // Hole die Namen der Spieler
    const player1NameElement = document.querySelector(".player-container:nth-child(1) .player-name");
    const player2NameElement = document.querySelector(".player-container:nth-child(2) .player-name");
    const player1Name = player1NameElement.textContent.trim();
    const player2Name = player2NameElement.textContent.trim();

    while (true) {
    // Fordere den Benutzer auf, zu wählen, welcher Spieler das suddenDeath-Elfmeterschießen beginnt
    const startingPlayer = prompt(`Welcher Spieler soll beginnen?\n'1' = ${player1Name}\n'2' = ${player2Name}`);
    if (startingPlayer === "1" || startingPlayer === "2") {
    // Konvertiere die Eingabe in eine Zahl
    const startingPlayerNumber = parseInt(startingPlayer);

    // Setze die Punktzahlen und verfügbaren Elfmeter für das suddenDeath zurück
    player1GreenSquares = 0;
    player2GreenSquares = 0;
    player1UnfilledSquares = 5;
    player2UnfilledSquares = 5;

    // Bestimmen, welcher Spieler beginnt
    let firstPenaltyPlayerNumber, secondPenaltyPlayerNumber;
    if (startingPlayerNumber === 1) {
    firstPenaltyPlayerNumber = 1;
    secondPenaltyPlayerNumber = 2;
    } else {
    firstPenaltyPlayerNumber = 2;
    secondPenaltyPlayerNumber = 1;
    }

    // SuddenDeath-Elfmeterschießen
    while (true) {
    const firstPenaltyResult = window.confirm(`Hat ${firstPenaltyPlayerNumber === 1 ? player1Name : player2Name} den Elfmeter verwandelt?`);
    const secondPenaltyResult = window.confirm(`Hat ${secondPenaltyPlayerNumber === 1 ? player1Name : player2Name} den Elfmeter verwandelt?`);

    if (firstPenaltyResult) {
    if (firstPenaltyPlayerNumber === 1) {
    player1GreenSquares++;
    const player1ScoreElement = document.getElementById("player1Score");
    let player1Score = parseInt(player1ScoreElement.textContent);
    player1ScoreElement.textContent = player1Score + 1; // Punkt für Spieler 1 hinzufügen
    } else {
    player2GreenSquares++;
    const player2ScoreElement = document.getElementById("player2Score");
    let player2Score = parseInt(player2ScoreElement.textContent);
    player2ScoreElement.textContent = player2Score + 1; // Punkt für Spieler 2 hinzufügen
    }
    } else {
    if (firstPenaltyPlayerNumber === 1) {
    player1UnfilledSquares--;
    } else {
    player2UnfilledSquares--;
    }
    }

    if (secondPenaltyResult) {
    if (secondPenaltyPlayerNumber === 1) {
    player1GreenSquares++;
    const player1ScoreElement = document.getElementById("player1Score");
    let player1Score = parseInt(player1ScoreElement.textContent);
    player1ScoreElement.textContent = player1Score + 1; // Punkt für Spieler 1 hinzufügen
    } else {
    player2GreenSquares++;
    const player2ScoreElement = document.getElementById("player2Score");
    let player2Score = parseInt(player2ScoreElement.textContent);
    player2ScoreElement.textContent = player2Score + 1; // Punkt für Spieler 2 hinzufügen
    }
    } else {
    if (secondPenaltyPlayerNumber === 1) {
    player1UnfilledSquares--;
    } else {
    player2UnfilledSquares--;
    }
    }

    if (player1GreenSquares !== player2GreenSquares || player1UnfilledSquares === 0 || player2UnfilledSquares === 0) {
    break; // Wenn ein Spieler mehr Tore erzielt hat oder keine Elfmeter mehr übrig sind, endet das suddenDeath.
    }
    }

    // Überprüfe, wer das suddenDeath gewonnen hat oder ob es unentschieden ist
    if (player1GreenSquares > player2GreenSquares) {
    addFinalScoreAndPenalty();
    checkWinnerAndShowScreen();
    } else if (player2GreenSquares > player1GreenSquares) {
    addFinalScoreAndPenalty();
    checkWinnerAndShowScreen();
    } else {
    // Bei Gleichstand müssen wir eine zusätzliche Entscheidungsrunde hinzufügen
    while (true) {
    const firstPenaltyResult = window.confirm(`${player1Name}, Elfmeter verwandelt?`);
    const secondPenaltyResult = window.confirm(`${player2Name}, Elfmeter verwandelt?`);

    if (firstPenaltyResult !== secondPenaltyResult) {
    // Der Spieler, der seinen Elfmeter verwandelt hat, gewinnt das suddenDeath
    if (firstPenaltyResult) {
    addFinalScoreAndPenalty();
    checkWinnerAndShowScreen();
    } else {
    addFinalScoreAndPenalty();
    checkWinnerAndShowScreen();
    }
    break;
    }
    // Ansonsten geht das suddenDeath mit einer neuen Entscheidungsrunde weiter
    }
    }

    break; // Beende die äußere Schleife, da das Elfmeterschießen abgeschlossen ist
    } else {
    alert("Ungültige Eingabe. Bitte '1' oder '2' eingeben.");
    }
    }
}


// Funktion, um das Elfmeterergebnis anzuzeigen und zu überprüfen, ob ein Spieler gewonnen hat
function showPenaltyResultModal(playerNumber) {
    const penaltyResult = window.confirm("Elfmeter verwandelt?");
    const square = event.target; // Das geklickte Quadrat

    if (penaltyResult) {
    // Der Benutzer hat "Ja" gewählt (Elfmeter verwandelt)
    square.style.backgroundColor = "green"; // Das Quadrat wird grün gefärbt
    const playerScoreElement = document.getElementById(`player${playerNumber}Score`);
    let score = parseInt(playerScoreElement.textContent);
    playerScoreElement.textContent = score + 1; // Punktestand des Spielers wird um 1 erhöht

    // Torsound abspielen
    playGoalSound();

    // Punkt-Animation hinzufügen
    playerScoreElement.classList.add("score-animation");

    // Nach 8 Sekunden die Punkt-Animation entfernen
    setTimeout(() => {
    playerScoreElement.classList.remove("score-animation");
    }, 8000);

    // Zähle die grünen Quadrate und verringere die Anzahl der ungefärbten Quadrate
    if (playerNumber === 1) {
    player1GreenSquares++;
    player1UnfilledSquares--;
    } else if (playerNumber === 2) {
    player2GreenSquares++;
    player2UnfilledSquares--;
    }
    } else {
    // Der Benutzer hat "Nein" gewählt (Elfmeter nicht verwandelt)
    square.style.backgroundColor = "red"; // Das Quadrat wird rot gefärbt
    if (playerNumber === 1) {
    player1UnfilledSquares--;
    } else if (playerNumber === 2) {
    player2UnfilledSquares--;
    }
    }

    square.onclick = null; // Das 'onclick' Ereignis wird entfernt, um das Quadrat zu deaktivieren

    // Überprüfe, ob ein Spieler mehr grüne Quadrate hat als der andere Spieler erreichen kann
    const player1ScoreElement = document.getElementById("player1Score");
    const player2ScoreElement = document.getElementById("player2Score");
    let player1Score = parseInt(player1ScoreElement.textContent);
    let player2Score = parseInt(player2ScoreElement.textContent);
    let player1MaxPossibleScore = player1GreenSquares + player1UnfilledSquares;
    let player2MaxPossibleScore = player2GreenSquares + player2UnfilledSquares;

    // Den Namen von Spieler 1 und Spieler 2 direkt aus den DOM-Elementen abrufen
    const player1NameElement = document.querySelector(".player-container:nth-child(1) .player-name");
    const player2NameElement = document.querySelector(".player-container:nth-child(2) .player-name");
    const player1Name = player1NameElement.textContent.trim();
    const player2Name = player2NameElement.textContent.trim();

    // Überprüfe, ob ein Spieler gewonnen hat und zeige entsprechende Meldung an
    if (player1GreenSquares > player2MaxPossibleScore && player2GreenSquares <= player1MaxPossibleScore) {
    addFinalScoreAndPenalty();
    checkWinnerAndShowScreen();
    } else if (player2GreenSquares > player1MaxPossibleScore && player1GreenSquares <= player2MaxPossibleScore) {
    addFinalScoreAndPenalty();
    checkWinnerAndShowScreen();
    } else if (player1GreenSquares === player2GreenSquares && player1UnfilledSquares === 0 && player2UnfilledSquares === 0) {
    // Wenn beide Spieler nach den ersten fünf Elfmetern immer noch unentschieden sind und keine ungenutzten Elfmeter mehr haben, starte den suddenDeath.
    alert("Unentschieden! Es geht weiter ...");
    suddenDeath();
    }
}

// Funktion, um die Nachspielzeit hinzuzufügen
function addExtraTime() {
    const extraTimeInput = prompt("Wie viel Nachspielzeit gibt es? (Zahl von 1 bis 15):");

    const isValidInput = /^\d{1,2}$/.test(extraTimeInput);
    const extraTimeValue = parseInt(extraTimeInput);

    if (isValidInput && extraTimeValue >= 1 && extraTimeValue <= 15) {
        const extraTimeElement = document.createElement("div");
        extraTimeElement.classList.add("entry");
        extraTimeElement.classList.add("extra-time-entry");

        const extraTimeContent = document.createElement("span");
        extraTimeContent.classList.add("extra-time-content");
        extraTimeContent.textContent = `Nachspielzeit ${extraTimeValue}'`;

        extraTimeElement.appendChild(extraTimeContent);

        const player1ScoreElement = document.getElementById("player1Score");
        const player2ScoreElement = document.getElementById("player2Score");

        const player1EventsContainer = player1ScoreElement.parentElement;
        const player2EventsContainer = player2ScoreElement.parentElement;

        player1EventsContainer.appendChild(extraTimeElement.cloneNode(true));
        player2EventsContainer.appendChild(extraTimeElement);
    } else {
        alert("Ungültige Eingabe. Die Nachspielzeit wird nicht hinzugefügt.");
    }
}

// Funktion, um zu überprüfen, ob der Halbzeiteintrag bereits vorhanden ist
function isHalftimeEntryPresent() {
    const halftimeEntries = document.querySelectorAll(".halftime-entry");
    return halftimeEntries.length > 0;
}

// Funktion, um die Halbzeit anzuzeigen
function addHalftime() {
    if (isHalftimeEntryPresent()) {
        alert("Die 1. Halbzeit wurde bereits abgeschlossen!"); // Fehlermeldung, falls vorhanden
        return;
    }
    const halftimeElement = document.createElement("div");
    halftimeElement.classList.add("entry");
    halftimeElement.classList.add("halftime-entry");

    // Stil für die graue Hintergrundfläche mit abgerundeten Ecken und Anpassungen
    halftimeElement.style.backgroundColor = "rgba(0, 0, 0, 0.08)";
    halftimeElement.style.borderRadius = "10px";
    halftimeElement.style.padding = "3px 0";
    halftimeElement.style.margin = "10px 0";

    const halftimeContent = document.createElement("span");
    halftimeContent.classList.add("halftime-content");
    halftimeContent.textContent = "Halbzeit";

    // Halbzeit-Sound abspielen
    playHalftimeSound();

    const player1ScoreElement = document.getElementById("player1Score");
    const player2ScoreElement = document.getElementById("player2Score");

    const player1EventsContainer = player1ScoreElement.parentElement;
    const player2EventsContainer = player2ScoreElement.parentElement;

    const scoreSpacer = document.createElement("span");
    scoreSpacer.classList.add("score-spacer");
    scoreSpacer.textContent = "\u00A0"; // Unicode-Zeichen für ein schmales Leerzeichen

    halftimeElement.appendChild(halftimeContent);
    halftimeElement.appendChild(scoreSpacer.cloneNode(true));
    halftimeElement.appendChild(document.createTextNode(player1ScoreElement.textContent));
    halftimeElement.appendChild(document.createTextNode("-"));
    halftimeElement.appendChild(document.createTextNode(player2ScoreElement.textContent));

    player1EventsContainer.appendChild(halftimeElement.cloneNode(true));
    player2EventsContainer.appendChild(halftimeElement);

    // Erstellung der Modalbox
    const modalOverlay = document.createElement("div");
    modalOverlay.classList.add("ht-modal-overlay");

    const modalBox = document.createElement("div");
    modalBox.classList.add("ht-modal-box");

    const modalTitle = document.createElement("h2");
    modalTitle.textContent = "Vorbereitung auf die 2. Halbzeit:";

    const modalText = document.createElement("p");
    modalText.innerHTML = `
        1. Eine Halbzeitansprachenkarte aufdecken und ab Beginn der 2. Halbzeit beachten.<br>
        2. Den 2. Spielzeitmarker auf das Pfeifensymbol legen.<br>
        3. Den Ball auf den Anstoßkreis legen und auf die Farbe des Spielzeitmarkers drehen.<br>
        4. Alle Transfermarktkarten in das Reservedeck mischen und 6 neue Karten aufdecken.<br>
        5. Alle Hand- und Ablagestapel in den Mannschaftsstapel mischen und 6 neue Karten ziehen.<br>
        6. Sofern erwünscht, die Aufstellungsmarker neu anordnen (entsprechend der Aufstellungs- und Starspielerkarten).<br>
        7. Ersten Spielzug der 2. Halbzeit beginnen.
    `;

    const closeButton = document.createElement("button");
    closeButton.textContent = "Erledigt";
    closeButton.classList.add("modal-close-button");

    // Stil für den "Erledigt"-Button
    closeButton.style.marginTop = "20px";
    closeButton.style.backgroundColor = "#007bff";
    closeButton.style.color = "white";
    closeButton.style.border = "none";
    closeButton.style.padding = "10px 20px";
    closeButton.style.fontSize = "16px";
    closeButton.style.cursor = "pointer";
    closeButton.style.borderRadius = "5px";
    closeButton.style.fontFamily = "DINCond Medium";

    // Hover-Stil für den Button
    closeButton.addEventListener("mouseover", () => {
    closeButton.style.backgroundColor = "#0056b3";
    });

    closeButton.addEventListener("mouseout", () => {
    closeButton.style.backgroundColor = "#007bff";
    });

    // Event Listener für den Button hinzufügen
    closeButton.addEventListener("click", () => {
    document.body.removeChild(modalOverlay);
    });

    modalBox.appendChild(modalTitle);
    modalBox.appendChild(modalText);
    modalBox.appendChild(closeButton);
    modalOverlay.appendChild(modalBox);
    document.body.appendChild(modalOverlay);
}

// Funktion, um den Endstand anzuzeigen
function addFinalScore() {
    const finalscoreElement = document.createElement("div");
    finalscoreElement.classList.add("entry");
    finalscoreElement.classList.add("finalscore-entry");

    // Stil für die graue Hintergrundfläche mit abgerundeten Ecken und Anpassungen
    finalscoreElement.style.backgroundColor = "rgba(0, 0, 0, 0.08)";
    finalscoreElement.style.borderRadius = "10px";
    finalscoreElement.style.padding = "3px 0";
    finalscoreElement.style.margin = "10px 0";

    const finalscoreContent = document.createElement("span");
    finalscoreContent.classList.add("finalscore-content");
    finalscoreContent.textContent = "Endstand";

    const player1ScoreElement = document.getElementById("player1Score");
    const player2ScoreElement = document.getElementById("player2Score");

    const player1EventsContainer = player1ScoreElement.parentElement;
    const player2EventsContainer = player2ScoreElement.parentElement;

    const scoreSpacer = document.createElement("span");
    scoreSpacer.classList.add("score-spacer");
    scoreSpacer.textContent = "\u00A0"; // Unicode-Zeichen für ein schmales Leerzeichen

    finalscoreElement.appendChild(finalscoreContent);
    finalscoreElement.appendChild(scoreSpacer.cloneNode(true));
    finalscoreElement.appendChild(document.createTextNode(player1ScoreElement.textContent));
    finalscoreElement.appendChild(document.createTextNode("-"));
    finalscoreElement.appendChild(document.createTextNode(player2ScoreElement.textContent));

    player1EventsContainer.appendChild(finalscoreElement.cloneNode(true));
    player2EventsContainer.appendChild(finalscoreElement);
    checkWinnerAndShowScreen();
}

// Funktion, um den Endstand + Elfmeter anzuzeigen
function addFinalScoreAndPenalty() {
    const finalscoreElement = document.createElement("div");
    finalscoreElement.classList.add("entry");
    finalscoreElement.classList.add("finalscore-entry");

    // Stil für die graue Hintergrundfläche mit abgerundeten Ecken und Anpassungen
    finalscoreElement.style.backgroundColor = "rgba(0, 0, 0, 0.08)";
    finalscoreElement.style.borderRadius = "10px";
    finalscoreElement.style.padding = "3px 0";
    finalscoreElement.style.margin = "10px 0";

    const finalscoreContent = document.createElement("span");
    finalscoreContent.classList.add("finalscore-content");
    finalscoreContent.textContent = "Endstand + Elfmeter";

    const player1ScoreElement = document.getElementById("player1Score");
    const player2ScoreElement = document.getElementById("player2Score");

    const player1EventsContainer = player1ScoreElement.parentElement;
    const player2EventsContainer = player2ScoreElement.parentElement;

    const scoreSpacer = document.createElement("span");
    scoreSpacer.classList.add("score-spacer");
    scoreSpacer.textContent = "\u00A0"; // Unicode-Zeichen für ein schmales Leerzeichen

    finalscoreElement.appendChild(finalscoreContent);
    finalscoreElement.appendChild(scoreSpacer.cloneNode(true));
    finalscoreElement.appendChild(document.createTextNode(player1ScoreElement.textContent));
    finalscoreElement.appendChild(document.createTextNode("-"));
    finalscoreElement.appendChild(document.createTextNode(player2ScoreElement.textContent));

    player1EventsContainer.appendChild(finalscoreElement.cloneNode(true));
    player2EventsContainer.appendChild(finalscoreElement);
}

// Funktion, um das Ergebnis nach dem Spiel zu kontrollieren
function checkGameEndAndPoints() {
    const player1ScoreElement = document.getElementById("player1Score");
    const player2ScoreElement = document.getElementById("player2Score");
    const player1Events = document.querySelectorAll(".player-container:nth-child(1) .entry");
    const player2Events = document.querySelectorAll(".player-container:nth-child(2) .entry");

    const player1HasGameEnd = Array.from(player1Events).some(event => event.textContent.includes("Endstand"));
    const player2HasGameEnd = Array.from(player2Events).some(event => event.textContent.includes("Endstand"));

    const player1Score = parseInt(player1ScoreElement.textContent);
    const player2Score = parseInt(player2ScoreElement.textContent);

    if (player1HasGameEnd && player2HasGameEnd && player1Score === player2Score) {
    const shootoutConfirmed = confirm("Unentschieden. Soll es ein Elfmeterschießen geben?");
    if (shootoutConfirmed) {
    startElfmeterschiessen();
    } else {
    alert("Das Spiel endet Unentschieden.");
    }
    }
}

const playersContainer = document.getElementById('playersContainer');
const player1Container = document.getElementById('player1Container');
const player2Container = document.getElementById('player2Container');

// Event-Handler, der auf das Scrollen eines Containers reagiert
    player1Container.addEventListener('scroll', function () {
    player2Container.scrollTop = player1Container.scrollTop;
    });

    player2Container.addEventListener('scroll', function () {
    player1Container.scrollTop = player2Container.scrollTop;
});


// Funktion, die einen Torsound abspielt
function playGoalSound() {
    const goalSound = new Audio('sounds/goal.mp3');
    goalSound.play();
}

// Funktion zum Abspielen des Halbzeit-Sounds
    function playHalftimeSound() {
        const halftimeSound = new Audio("sounds/halftime.mp3");
        halftimeSound.currentTime = 0.3; // Setze die Startposition auf 0,3 Sekunden
        halftimeSound.play();
    }

// Funktion zum Abspielen des Sieger-Sounds
function playWinSound() {
    const sound = new Audio("sounds/win.wav");
    sound.play();
}

// Funktion, um den Siegerbildschirm anzuzeigen
function showWinnerScreen(player1Name) {
    // Erstellen des Overlay-Divs
    const overlay = document.createElement("div");
    overlay.classList.add("winner-overlay");

    // Hinzufügen des Siegerinhalts
    const winnerContent = document.createElement("div");
    winnerContent.classList.add("winner-content");

    // Hinzufügen des Sieger-GIFs
    const winnerGif = document.createElement("img");
    winnerGif.src = "graphics/winner.gif";
    winnerGif.alt = "Winner GIF";
    winnerContent.appendChild(winnerGif);

    // Hinzufügen des Siegertexts
    const winnerText = document.createElement("p");
    winnerText.classList.add("bold-text"); // Fett gedruckter Text
    winnerText.textContent = "Gratulation, " + player1Name + "!";
    winnerContent.appendChild(winnerText);

    // Hinzufügen des zusätzlichen Texts
    const additionalText = document.createElement("p");
    additionalText.classList.add("additional-text");
    additionalText.textContent = "Du hast das Spiel 'WHAT a GOAL!' gewonnen!";
    winnerContent.appendChild(additionalText);

    // Hinzufügen des "Neues Spiel"-Buttons
    const newGameButton = document.createElement("button");
    newGameButton.textContent = "Neues Spiel starten";
    newGameButton.addEventListener("click", startNewGame);
    winnerContent.appendChild(newGameButton);

    overlay.appendChild(winnerContent);

    // Hinzufügen des Overlay-Divs zum Dokument
    document.body.appendChild(overlay);
}

// Funktion, um den Siegerbildschirm anzuzeigen
function showWinnerScreen(winnerName) {
    const overlay = document.createElement("div");
    overlay.classList.add("winner-overlay");

    // Hinzufügen des Siegerinhalts
    const winnerContent = document.createElement("div");
    winnerContent.classList.add("winner-content");

    // Hinzufügen des Sieger-GIFs
    const winnerGif = document.createElement("img");
    winnerGif.src = "graphics/winner.gif";
    winnerGif.alt = "Winner GIF";
    winnerContent.appendChild(winnerGif);

    // Hinzufügen des Siegertexts
    const winnerText = document.createElement("p");
    winnerText.classList.add("bold-text"); // Fett gedruckter Text

    winnerContent.appendChild(winnerText);

    // Hinzufügen des zusätzlichen Texts
    const additionalText = document.createElement("p");
    additionalText.classList.add("additional-text");
    additionalText.innerHTML = 'Du hast das ein Spiel von <strong>WHAT A GOAL!</strong> gewonnen!';
    winnerContent.appendChild(additionalText);
    winnerText.textContent = "Gratulation, " + winnerName + "!";

    // Hinzufügen des "Neues Spiel"-Buttons
    const newGameButton = document.createElement("button");
    newGameButton.textContent = "Neues Spiel starten";
    newGameButton.addEventListener("click", startNewGame);
    winnerContent.appendChild(newGameButton);

    // Hinzufügen des "Spielverlauf ansehen"-Buttons
    const viewGameHistoryButton = document.createElement("button");
    viewGameHistoryButton.textContent = "Spielverlauf ansehen";
    
    // Hier wird der Abstand von 20px links hinzugefügt
    viewGameHistoryButton.style.marginLeft = "20px";
    
    viewGameHistoryButton.addEventListener("click", closeWinnerScreen);
    winnerContent.appendChild(viewGameHistoryButton);

    overlay.appendChild(winnerContent);

    // Hinzufügen des Overlay-Divs zum Dokument
    document.body.appendChild(overlay);
}

// Funktion, um den Gewinner zu ermitteln und den Siegerbildschirm anzuzeigen
function checkWinnerAndShowScreen() {
    const player1ScoreElement = document.getElementById("player1Score");
    const player2ScoreElement = document.getElementById("player2Score");

    const player1NameElement = document.querySelector(".player-container:nth-child(1) .player-name");
    const player2NameElement = document.querySelector(".player-container:nth-child(2) .player-name");
    const player1Name = player1NameElement.textContent.trim();
    const player2Name = player2NameElement.textContent.trim();

    const player1Score = parseInt(player1ScoreElement.textContent);
    const player2Score = parseInt(player2ScoreElement.textContent);

    if (player1Score > player2Score) {
        showWinnerScreen(player1Name);
        playWinSound();
    } else if (player2Score > player1Score) {
        showWinnerScreen(player2Name);
        playWinSound();
    } else {
        checkGameEndAndPoints()
    }
}

// Funktion, um den Siegerbildschirm zu schließen
function closeWinnerScreen() {
    const overlay = document.querySelector(".winner-overlay");
    if (overlay) {
        overlay.remove();
    }
}
</script>
</body>
</html>